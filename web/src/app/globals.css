@import "tailwindcss/base";
@import "tailwindcss/components";
@import "tailwindcss/utilities";

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap');

@layer base {
  :root {
    /* Design System Colors - Exact Match */
    --primary-blue: #1E3A8A;
    --secondary-green: #10B981;
    --accent-orange: #F97316;
    --background-light: #F9FAFB;
    --neutral-dark: #111827;
    --neutral-gray: #6B7280;
    --border-gray: #E5E7EB;
    
    /* CSS Variables for shadcn/ui compatibility */
    --background: 249 250 251; /* #F9FAFB - Background Light */
    --foreground: 17 24 39; /* #111827 - Neutral Dark */
    --card: 249 250 251;
    --card-foreground: 17 24 39;
    --popover: 249 250 251;
    --popover-foreground: 17 24 39;
    --primary: 30 58 138; /* #1E3A8A - Primary Blue */
    --primary-foreground: 255 255 255;
    --secondary: 16 185 129; /* #10B981 - Secondary Green */
    --secondary-foreground: 255 255 255;
    --muted: 229 231 235; /* #E5E7EB - Border Gray */
    --muted-foreground: 107 114 128; /* #6B7280 - Neutral Gray */
    --accent: 249 115 22; /* #F97316 - Accent Orange */
    --accent-foreground: 255 255 255;
    --destructive: 239 68 68;
    --destructive-foreground: 255 255 255;
    --border: 229 231 235; /* #E5E7EB - Border Gray */
    --input: 229 231 235;
    --ring: 30 58 138; /* #1E3A8A - Primary Blue */
    --radius: 0.5rem;
  }

  .dark {
    --background: 30 58 138; /* #1E3A8A - Primary Blue for dark mode */
    --foreground: 255 255 255;
    --card: 30 58 138;
    --card-foreground: 255 255 255;
    --popover: 30 58 138;
    --popover-foreground: 255 255 255;
    --primary: 16 185 129; /* #10B981 - Secondary Green */
    --primary-foreground: 255 255 255;
    --secondary: 249 115 22; /* #F97316 - Accent Orange */
    --secondary-foreground: 255 255 255;
    --muted: 107 114 128;
    --muted-foreground: 229 231 235;
    --accent: 249 115 22;
    --accent-foreground: 255 255 255;
    --destructive: 239 68 68;
    --destructive-foreground: 255 255 255;
    --border: 107 114 128;
    --input: 107 114 128;
    --ring: 16 185 129;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background-light text-neutral-dark font-sans;
    font-feature-settings: "rlig" 1, "calt" 1;
    font-family: 'Inter', system-ui, sans-serif; /* Primary font per design system */
  }

  /* Design System Typography Classes */
  .heading-1 {
    @apply text-2xl md:text-3xl font-bold text-neutral-dark; /* 24-28px, Bold */
  }

  .heading-2 {
    @apply text-lg md:text-xl font-medium text-neutral-dark; /* 18-20px, Medium */
  }

  .body-text {
    @apply text-sm md:text-base font-normal text-neutral-dark; /* 14-16px, Regular */
  }

  .subtext {
    @apply text-sm text-neutral-gray; /* Subtext/Placeholders */
  }

  .button-text {
    @apply font-bold; /* Bold for buttons */
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-muted;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-foreground;
  }

  /* Focus styles */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
  }

  /* Animation classes */
  .animate-in {
    animation: animate-in 0.3s ease-out;
  }

  .animate-out {
    animation: animate-out 0.3s ease-out;
  }

  @keyframes animate-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes animate-out {
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  }

  /* Design System Specific Styles */
  
  /* Nigerian Naira symbol styling */
  .naira-symbol {
    font-family: 'Inter', system-ui, sans-serif;
    font-weight: 600;
    color: var(--primary-blue); /* Use primary blue for price display */
  }

  /* WhatsApp-style chat bubbles per design system */
  .chat-bubble-sent {
    background-color: var(--primary-blue);
    color: white;
    @apply rounded-lg rounded-br-none;
  }

  .chat-bubble-received {
    background-color: var(--border-gray);
    color: var(--neutral-dark);
    @apply rounded-lg rounded-bl-none;
  }

  /* Design System Button Styles */
  .btn-primary {
    background-color: var(--primary-blue);
    color: white;
    @apply hover:opacity-90 focus-ring rounded-lg font-bold;
  }

  .btn-secondary {
    background-color: var(--secondary-green);
    color: white;
    @apply hover:opacity-90 focus-ring rounded-lg font-bold;
  }

  .btn-accent {
    background-color: var(--accent-orange);
    color: white;
    @apply hover:opacity-90 focus-ring rounded-lg font-bold;
  }

  .btn-outline {
    border: 1px solid var(--border-gray);
    background-color: transparent;
    color: var(--neutral-dark);
    @apply hover:bg-background-light focus-ring rounded-lg font-bold;
  }

  .btn-ghost {
    background-color: transparent;
    color: var(--neutral-gray);
    @apply hover:bg-background-light hover:text-neutral-dark focus-ring rounded-lg font-bold;
  }

  /* Design System Input Styles */
  .input-field {
    border: 1px solid var(--border-gray);
    background-color: white;
    color: var(--neutral-dark);
    @apply rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary focus:border-transparent;
  }

  .input-field::placeholder {
    color: var(--neutral-gray);
  }

  /* Nigerian flag gradient - updated for design consistency */
  .nigeria-gradient {
    background: linear-gradient(135deg, var(--secondary-green) 0%, #ffffff 50%, var(--secondary-green) 100%);
  }

  /* Design System Category Pills */
  .category-pill-active {
    background-color: var(--primary-blue);
    color: white;
    @apply rounded-full px-4 py-2 text-sm font-medium;
  }

  .category-pill-inactive {
    background-color: var(--border-gray);
    color: var(--neutral-gray);
    @apply rounded-full px-4 py-2 text-sm font-medium hover:bg-neutral-gray hover:text-white;
  }

  /* Design System Product Cards */
  .product-card {
    background-color: white;
    border: 1px solid var(--border-gray);
    @apply rounded-lg shadow-sm hover:shadow-md transition-shadow;
  }

  .product-card-image {
    @apply rounded-t-lg w-full h-48 object-cover;
  }

  .product-card-title {
    @apply font-bold text-neutral-dark text-sm md:text-base;
  }

  .product-card-price {
    color: var(--primary-blue);
    @apply font-bold text-sm md:text-base;
  }

  .product-card-location {
    color: var(--neutral-gray);
    @apply text-xs md:text-sm;
  }

  /* Design System Splash Screen */
  .splash-screen {
    background-color: var(--primary-blue);
    @apply min-h-screen flex flex-col items-center justify-center;
  }

  .splash-logo {
    @apply w-20 h-20 rounded-full flex items-center justify-center;
    background-color: var(--secondary-green);
  }

  .splash-app-name {
    @apply text-white font-bold text-2xl mt-4;
    font-family: 'Poppins', system-ui, sans-serif;
  }

  .splash-motto {
    color: var(--secondary-green);
    @apply text-sm mt-2 text-center;
  }

  /* Loading shimmer effect */
  .shimmer {
    background: linear-gradient(90deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.4) 50%,
      rgba(255, 255, 255, 0) 100%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  /* Typography improvements */
  .text-balance {
    text-wrap: balance;
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .btn-primary {
      @apply border-2 border-primary-foreground;
    }
    
    .btn-outline {
      @apply border-2;
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* Component-specific styles */
@layer components {
  .container {
    @apply mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Card component */
  .card {
    @apply bg-card text-card-foreground rounded-lg border shadow-sm;
  }

  .card-header {
    @apply flex flex-col space-y-1.5 p-6;
  }

  .card-title {
    @apply text-2xl font-semibold leading-none tracking-tight;
  }

  .card-description {
    @apply text-sm text-muted-foreground;
  }

  .card-content {
    @apply p-6 pt-0;
  }

  .card-footer {
    @apply flex items-center p-6 pt-0;
  }

  /* Input component */
  .input {
    @apply flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
  }

  /* Button component */
  .button {
    @apply inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50;
  }

  .button-sm {
    @apply h-9 rounded-md px-3;
  }

  .button-md {
    @apply h-10 px-4 py-2;
  }

  .button-lg {
    @apply h-11 rounded-md px-8;
  }

  /* Badge component */
  .badge {
    @apply inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
  }

  .badge-default {
    @apply border-transparent bg-primary text-primary-foreground hover:bg-primary/80;
  }

  .badge-secondary {
    @apply border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80;
  }

  .badge-destructive {
    @apply border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80;
  }

  .badge-outline {
    @apply text-foreground;
  }

  /* Mobile optimizations */
  @media (max-width: 768px) {
    .container {
      @apply px-4;
    }

    /* Mobile chat layout */
    .mobile-chat-layout {
      @apply flex-col;
    }

    .mobile-chat-sidebar {
      @apply w-full h-1/3 border-r-0 border-b;
    }

    .mobile-chat-main {
      @apply w-full h-2/3;
    }

    /* Mobile responsive text */
    .heading-1 {
      @apply text-xl;
    }

    .heading-2 {
      @apply text-lg;
    }

    /* Mobile forms */
    .mobile-form-grid {
      @apply grid-cols-1;
    }

    /* Touch optimizations */
    .touch-target {
      @apply min-h-[44px] min-w-[44px];
    }

    /* Mobile product cards */
    .product-card-image {
      @apply h-40;
    }

    /* Mobile navigation */
    .mobile-nav-hidden {
      @apply hidden;
    }

    /* Mobile search bar */
    .mobile-search-full {
      @apply w-full mb-4;
    }
  }

  /* Tablet optimizations */
  @media (min-width: 768px) and (max-width: 1024px) {
    .tablet-grid {
      @apply grid-cols-2;
    }

    .tablet-chat-sidebar {
      @apply w-1/2;
    }
  }

  /* Large screen optimizations */
  @media (min-width: 1280px) {
    .container {
      @apply max-w-7xl;
    }

    .desktop-grid-4 {
      @apply grid-cols-4;
    }

    .desktop-max-width {
      @apply max-w-4xl;
    }
  }

  /* Print styles */
  @media print {
    .no-print {
      @apply hidden;
    }
    
    .print-only {
      @apply block;
    }
    
    body {
      @apply text-black bg-white;
    }

    .product-card {
      @apply shadow-none border-2;
    }
  }

  /* Performance optimizations */
  .will-change-transform {
    will-change: transform;
  }

  .will-change-scroll {
    will-change: scroll-position;
  }

  /* Smooth scrolling */
  .smooth-scroll {
    scroll-behavior: smooth;
  }

  /* GPU acceleration for animations */
  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
  }
}
